# ip地址 vs 域名

三层网络的主机彼此之间有ip就能通信，而且部分企业内部使用业务系统时通过输入ip + 端口的方式也能打开网页。不过这种方式通常很难记，因为ip更不具有任何业务表达。
为了让应用的访问者能够更简单的记住业务应用的访问地址，域名服务(**D**omain **N**ame **S**erver)被推出。

常见的域名是一个"."分的英文字符串，比如"auth.gardenerframework.io"，其中

* io代表顶级域名，通常是一个国家的缩写或者一个通用的机构类型缩写，比如com = 公司、org = 组织、edu = 学校等等
* gardenerframework是二级域名，通常是机构/公司要对外表达的名字，比如jd = 京东、qq = 腾讯
* auth是三级域名，表达当前应用在这个机构内的作用或子机构，比如auth为认证或登录

通常来说域名就到三级，相对于ip来说，显然域名好记的多。

# dns

域名的使用需要依赖dns服务，他的使命是将域名解析ip，因为最终三层还是需要ip来进行通信

![dns.png](dns.png)

上图查询"auth.gardenerframework.io"域名的请求和响应，dns服务器回答请求端是域名的ip为"58.254.149.226"
。这时浏览器就可以调用三层网络协议栈给的接口去发送http

图中还有一个细节，恢复的ip前面有一个字母"A"，代表这个记录是地址记录。dns服务支持很多记录类型

* A(AAAA)记录: 域名到地址的解析(AAAA为到ipv6的解析)
* CNAME记录: 域名别名，比如

![cname.png](cname.png)

此时google返回说你查的这个有个别名是www-wide.1.google.com

* TXT记录: 一般指某个主机名或域名的标识和说明，通常在网络服务商，要求证明填写域名的人添加一条TXT记录以证明域名被自己所有

dns服务器还有很多其它的数据类型，不过以上三种比较常用